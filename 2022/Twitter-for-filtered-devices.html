<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>Twitter for filtered Devices</title>
    <meta name="description" content="フィルタリングを回避してTwitterを閲覧できるようにする">
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script src="../mit/jquery-1.9.1.min.js"></script>
    <script src="../script.js"></script>
    <meta property="og:title" content="Twitter for all Devices">
    <meta property="og:description" content="フィルタリングを回避してTwitterを閲覧できるようにする">
    <meta property="og:site_name" content="miyaryo1212">
    <meta property="og:url" content="https://miyaryo1212.github.io/2022/Twitter-for-filtered-devices">
    <meta property="og:locale" content="ja_JP">
    <meta property="og:type" content="website">
</head>

<body>

    <div id="menu_button"><span id="menu_button_line"></span></div>
    <div id="overlay"></div>

    <script src="../header.js"></script>

    <article>

        <div class="block">
            <div class="content">

                <h1>Twitter for Filtered Devices</h1>
                <p>フィルタリングがかかっている端末で実際にテスト済み。Twitter Publishの機能を利用して作成。公開アカウントによる公開ツイート、リツイートのみ閲覧できます。新しく検索するときは画面を<b>再読み込み</b>してください。<b>制作者の技量のせいで</b>そういう仕様です。あと、画像もサムネイル表示までしか読み込めないから画質の劣化も許してください。ユーザーアカウント名は何とかして手に入れて。</p>

                <div class="inputArea">
                    <label for="inputBox">@以降を入力:</label><br>
                    <input type="text" id="inputBox" name="inputBox" size="20">
                    <button type="button" onclick="search()">表示</button>
                </div>

                <script>
                    function search() {
                        var accountinfo = document.getElementById("inputBox").value;
                        let TwitterTimeline = document.getElementById("twitter-timeline");
                        //aタグを取得

                        var makeurl = "https://twitter.com/" + accountinfo + "?ref_src=twsrc%5Etfw";
                        console.log(makeurl);

                        TwitterTimeline.setAttribute("href", makeurl);
                        //href属性の値を書き換える
                        console.log("URL書き換えたよ");

                        var script = document.createElement("script");
                        script.src = "https://platform.twitter.com/widgets.js";
                        document.body.appendChild(script);
                        //Twitter社提供のJavaScriptコードの読み込み
                        //コードを読み込む前にhref属性を書き換えなければならない
                    }
                </script>

                <a class="twitter-timeline" data-lang="ja" data-width="400" href="https://twitter.com/Twitter?ref_src=twsrc%5Etfw" id="twitter-timeline">Tweets by Twitter</a>
                <!--
                    <script src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
                -->

            </div>
        </div>
    </article>
</body>

</html>